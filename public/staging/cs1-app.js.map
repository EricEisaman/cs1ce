{"version":3,"file":"cs1-app.js","sources":["../../src/app/modules/classes/NavmeshTest.ts","../../src/app/main.ts"],"sourcesContent":["import {\n  Component,\n  Entity,\n  MultiPropertySchema,\n  System,\n  SystemDefinition,\n  THREE,\n  Geometry,\n  registerComponent,\n  Scene,\n} from \"aframe\";\n\ndeclare global {\n  interface Window {\n    box: any;\n    CS1: any;\n    StateManager: any;\n  }\n}\n\nconst CS1 = window.CS1;\nconst StateManager = window.StateManager;\n\nexport class NavmeshTest {\n  constructor() {}\n  async run() {\n    // create blue box\n    const box = await CS1.scene.add(\"a-box\");\n    console.log(\"box\");\n    console.log(box);\n    box?.setAttribute(\"color\", \"yellow\");\n    box?.object3D.position.set(0, 1, -5);\n    \n    const map = document.createElement(\"a-gltf-model\");\n    map.setAttribute(\"src\",\"https://cdn.glitch.global/a5d65106-3958-4418-bb95-17edbf2b08ae/map.glb?v=1649608846769\");\n    map.setAttribute(\"id\",\"map\");\n    \n    const navmesh = document.createElement(\"a-gltf-model\");\n    navmesh.setAttribute(\"src\", \"https://cdn.glitch.global/a5d65106-3958-4418-bb95-17edbf2b08ae/navmesh%20(18).gltf?v=1649608988048\");\n    navmesh.id = \"navmesh\";\n    \n    CS1.scene.entity.appendChild(map);\n    CS1.scene.entity.appendChild(navmesh);\n\n    //add a-cursor as child of camera\n    //const cursor = document.createElement(\"a-cursor\");\n    //CS1.cam.entity.appendChild(cursor);\n    \n    //add navmesh constraint to camera\n    CS1.cam.entity.setAttribute(\"simple-navmesh-constraint\", \"navmesh:#navmesh;fall:0.5;height:1.65;\");\n    box.addEventListener(\"click\", (e) => {\n      StateManager.dispatch({\n        type: \"path-mutation\",\n        payload: {\n          path: \"house.rooms.bathroom.locked\",\n          value: box.getAttribute(\"color\") === \"green\" ? false : true,\n        },\n      });\n    });\n\n    StateManager.subscribe(\"house.rooms.bathroom.locked\", () => {\n      box.setAttribute(\n        \"color\",\n        box.getAttribute(\"color\") === \"green\" ? \"red\" : \"green\"\n      );\n    });\n  }\n}\n","//import { StateTest } from \"./modules/classes/StateTest\";\nimport { NavmeshTest } from \"./modules/classes/NavmeshTest\";\nconst CS1 = window.CS1; // We will eventually publish typedefs to be imported.\nlet decimal: number = 6.0;\nlet hex: number = 0xf00d;\nlet binary: number = 0b1010;\nlet octal: number = 0o744;\nlet big: bigint = 100n;\n\n// App source code.\n(async () => {\n  console.log(\n    `The TypeScript number called decimal has a value of : ${decimal}!`\n  );\n  const main = () => {\n    //const myStateTest = new StateTest();\n    const myNavmeshTest = new NavmeshTest();\n    //myStateTest.run();\n    myNavmeshTest.run();\n  };\n  /*\n  await CS1.engine.config({\n    renderer: \"Babylon\"\n  });\n  await CS1.registry.entities.add({\n    dog : \"https://cdn.animals/dog.glb\"\n  });\n  await CS1.registry.sounds.add({\n    moo : \"https://cdn.animals/moo.mp3\"\n  });\n  await CS1.registry.particles.add({\n    snow : \"https://cdn.parts/snow.json\"\n  });\n  await CS1.registry.pack.add({\n    entities: {},\n    sounds: {},\n    particles: {}\n  });\n  await CS1.registry.pack.add(\"https://cdn.packs/monsters.json\");\n  await CS1.registry.pack.add(\"https://my.api/monsters/2\");\n  await sphere = CS1.add('sphere');\n  sphere.position.set(2,0,-6);\n  await box = CS1.add('box');\n  const offset = \"0 4 0\";\n  box.position.at(sphere, offset);\n  */\n  console.log(\"Calling CS1.run!\");\n  CS1.run(main);\n})();\n"],"names":["CS1"],"mappings":";;;IAoBA,MAAMA,KAAG,GAAG,MAAM,CAAC,GAAG,CAAC;IACvB,MAAM,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;UAE5B,WAAW,CAAA;IACtB,IAAA,WAAA,GAAA,GAAgB;IAChB,IAAA,MAAM,GAAG,GAAA;;YAEP,MAAM,GAAG,GAAG,MAAMA,KAAG,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACzC,QAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,QAAA,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjB,QAAA,GAAG,EAAE,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IACrC,QAAA,GAAG,EAAE,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAErC,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;IACnD,QAAA,GAAG,CAAC,YAAY,CAAC,KAAK,EAAC,wFAAwF,CAAC,CAAC;IACjH,QAAA,GAAG,CAAC,YAAY,CAAC,IAAI,EAAC,KAAK,CAAC,CAAC;YAE7B,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;IACvD,QAAA,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,oGAAoG,CAAC,CAAC;IAClI,QAAA,OAAO,CAAC,EAAE,GAAG,SAAS,CAAC;YAEvBA,KAAG,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAClCA,KAAG,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;;;;YAOtCA,KAAG,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,2BAA2B,EAAE,wCAAwC,CAAC,CAAC;YACnG,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,KAAI;gBAClC,YAAY,CAAC,QAAQ,CAAC;IACpB,gBAAA,IAAI,EAAE,eAAe;IACrB,gBAAA,OAAO,EAAE;IACP,oBAAA,IAAI,EAAE,6BAA6B;IACnC,oBAAA,KAAK,EAAE,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,OAAO,GAAG,KAAK,GAAG,IAAI;IAC5D,iBAAA;IACF,aAAA,CAAC,CAAC;IACL,SAAC,CAAC,CAAC;IAEH,QAAA,YAAY,CAAC,SAAS,CAAC,6BAA6B,EAAE,MAAK;gBACzD,GAAG,CAAC,YAAY,CACd,OAAO,EACP,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,OAAO,GAAG,KAAK,GAAG,OAAO,CACxD,CAAC;IACJ,SAAC,CAAC,CAAC;SACJ;IACF;;ICnED;IAEA,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;IACvB,IAAI,OAAO,GAAW,GAAG,CAAC;IAM1B;IACA,CAAC,YAAW;IACV,IAAA,OAAO,CAAC,GAAG,CACT,yDAAyD,OAAO,CAAA,CAAA,CAAG,CACpE,CAAC;QACF,MAAM,IAAI,GAAG,MAAK;;IAEhB,QAAA,MAAM,aAAa,GAAG,IAAI,WAAW,EAAE,CAAC;;YAExC,aAAa,CAAC,GAAG,EAAE,CAAC;IACtB,KAAC,CAAC;IACF;;;;;;;;;;;;;;;;;;;;;;;;;IAyBE;IACF,IAAA,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAChC,IAAA,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChB,CAAC,GAAG;;;;;;"}

